image: jakzal/phpqa:php8.2stages:  - code_quality  - security  - lint  - sonarqube-check  - sonarqube-vulnerability-reportbefore_script:  - cd app  - composer install --prefer-dist --no-ansi --no-interaction --no-progress --no-scriptscache:  paths:    - vendor/code_quality:  stage: code_quality  script:    - phpstan analyse src --level 1    - phpcs --standard=PSR12 src || true    - echo "Running PHPCBF..."    - phpcbf --standard=PSR12 src || true    - echo "PHPCBF run completed."    - phpcs --standard=PSR12 srcsecurity:  stage: security  script:    - local-php-security-checker --path=composer.lock# PHP Lintlint:  stage: Lint  script:    - ./bin/console lint:twig templates --env=prod    - ./bin/console lint:yaml config --parse-tags    - ./bin/console doctrine:schema:validate --skip-sync -vvv --no-interactionstages:  - sonarqube-check  - sonarqube-vulnerability-reportsonarqube-check:  stage: sonarqube-check  image:    name: sonarsource/sonar-scanner-cli:5.0    entrypoint: [""]  variables:    SONAR_USER_HOME: "${CI_PROJECT_DIR}/.sonar"  # Defines the location of the analysis task cache    GIT_DEPTH: "0"  # Tells git to fetch all the branches of the project, required by the analysis task  cache:    key: "${CI_JOB_NAME}"    paths:      - .sonar/cache  script:    - sonar-scanner  allow_failure: true  only:    - merge_requests    - master    - main    - developsonarqube-vulnerability-report:  stage: sonarqube-vulnerability-report  script:    - 'curl -u "${SONAR_TOKEN}:" "${SONAR_HOST_URL}/api/issues/gitlab_sast_export?projectKey=lascaudsim_fablab_293d41a4-c6b4-47b9-8ac7-ba72dc36a0ec&branch=${CI_COMMIT_BRANCH}&pullRequest=${CI_MERGE_REQUEST_IID}" -o gl-sast-sonar-report.json'  allow_failure: true  only:    - merge_requests    - master    - main    - develop  artifacts:    expire_in: 1 day    reports:      sast: gl-sast-sonar-report.json  dependencies:    - sonarqube-check